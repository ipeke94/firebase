{"version":3,"sources":["../../test-firebase/src/firebase.js","../../test-firebase/src/components/Post.js","../../test-firebase/src/components/AddPost.js","../../test-firebase/src/components/Posts.js","../../test-firebase/src/utilities.js","../../test-firebase/src/components/Application.js","../../test-firebase/src/index.js"],"names":["process","__webpack_require__","d","__webpack_exports__","firestore","firebase_compat_app__WEBPACK_IMPORTED_MODULE_0__","config","apiKey","authDomain","projectId","storageBucket","messagingSenderId","REACT_APP_MESSAGING_SENDER_ID","appId","firebase","initializeApp","settings","timestampsInSnapshots","window","Post","_ref","title","content","user","createdAt","stars","comments","id","postRef","doc","concat","react_default","a","createElement","className","role","aria-label","displayName","moment","toDate","calendar","onClick","update","delete","defaultProps","uid","email","photoUrl","AddPost","state","handleChange","e","_e$target","target","name","value","_this","setState","Object","defineProperty","handleSubmit","preventDefault","_this$state","newPost","photoURL","favorites","Date","collection","add","_this$state2","this","onSubmit","type","placeholder","onChange","Component","Posts","posts","components_AddPost","map","post","components_Post","assign","key","collectionDocsIDS","document","objectSpread","data","Application","unsubscribe","componentDidMount","_callee","regenerator_default","wrap","_context","prev","next","onSnapshot","snapshot","docs","stop","componentWillUnmount","_callee2","_context2","components_Posts","ReactDOM","render","components_Application","getElementById"],"mappings":"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","file":"static/js/main.0afcf43c.chunk.js","sourcesContent":["import firebase from \"firebase/compat/app\"; //v9\n// import { firestore } from \"firebase\";\nimport \"firebase/compat/firestore\";\n// import { firebase } from \"@firebase/app\";\n// import \"@firebase/firestore\";\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\nfirebase.initializeApp(config);\n\nexport const firestore = firebase.firestore();\n\nfirestore.settings({ timestampsInSnapshots: true });\n\nwindow.firebase = firebase;\n\n// export default firestore;\n\nexport default firebase;\n","import React from \"react\";\nimport moment from \"moment\";\nimport { firestore } from \"../firebase\";\n\nconst Post = ({ title, content, user, createdAt, stars, comments, id }) => {\n  const postRef = firestore.doc(`posts/${id}`);\n  const remove = () => postRef.delete();\n  const star = () => postRef.update({ stars: stars + 1 });\n  return (\n    <article className=\"post\">\n      <div className=\"post-content\">\n        <h3>{title}</h3>\n        <div>{content}</div>\n      </div>\n      <div className=\"post-meta\">\n        <div>\n          <p>\n            <span role=\"img\" aria-label=\"star\">\n              ‚≠êÔ∏è\n            </span>\n            {stars}\n          </p>\n          <p>\n            <span role=\"img\" aria-label=\"comments\">\n              üôä\n            </span>\n            {comments}\n          </p>\n          <p>Posted by {user.displayName}</p>\n          <p>{moment(createdAt.toDate()).calendar()}</p>\n        </div>\n        <div>\n          <button className=\"star\" onClick={star}>\n            Star\n          </button>\n          <button className=\"delete\" onClick={remove}>\n            Delete\n          </button>\n        </div>\n      </div>\n    </article>\n  );\n};\n\nPost.defaultProps = {\n  id: \"1\",\n  title: \"Take away\",\n  content: \"Lorem ipsum dolor sit amet, consectetur adipiscing el\",\n  user: {\n    uid: \"1\",\n    displayName: \"John Doe\",\n    email: \"john.doe@gmail.com\",\n    photoUrl: \"https://static.wikia.nocookie.net/sims/images/3/33/John_Doe.png/revision/latest?cb=20131001222124\",\n  },\n  stars: 0,\n  comments: 0,\n};\n\nexport default Post;\n","import React, { Component } from \"react\";\nimport { firestore } from \"../firebase\";\n\nclass AddPost extends Component {\n  state = { title: \"\", content: \"\" };\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { title, content } = this.state;\n    const newPost = {\n      // id: Date.now().toString(),\n      title,\n      content,\n      user: {\n        uid: \"1111\",\n        displayName: \"IpekMurat G.\",\n        email: \"ipekmurat@mailinator.com\",\n        photoURL:\n          \"https://www.google.com/imgres?imgurl=https%3A%2F%2Fmedia-exp1.licdn.com%2Fdms%2Fimage%2FC5603AQHvJ0cHwxRsKg%2Fprofile-displayphoto-shrink_200_200%2F0%2F1627132145738%3Fe%3D1653523200%26v%3Dbeta%26t%3DA79tIMzntA-fLKKuYn-8UfictJ0KOTRcxGE_ODuTJ9w&imgrefurl=https%3A%2F%2Fde.linkedin.com%2Fin%2Fmurat-guener&tbnid=SpE9K4Aa3v8oXM&vet=12ahUKEwinkMyjkfP2AhVLtioKHYVPDHkQMygAegQIARAd..i&docid=nVz6q3pcIEs84M&w=200&h=200&q=murat%20guner%20munich&ved=2ahUKEwinkMyjkfP2AhVLtioKHYVPDHkQMygAegQIARAd\",\n      },\n      favorites: 0,\n      comments: 0,\n      createdAt: new Date(),\n    };\n    firestore.collection(\"posts\").add(newPost);\n    this.setState({\n      title: \"\",\n      content: \"\",\n    });\n  };\n\n  render() {\n    const { title, content } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit} className=\"add-post\">\n        <input type=\"text\" name=\"title\" placeholder=\"Title\" value={title} onChange={this.handleChange} />\n        <input type=\"text\" name=\"content\" placeholder=\"Body\" value={content} onChange={this.handleChange} />\n        <input className=\"create\" type=\"submit\" value=\"Create New Post!\" />\n      </form>\n    );\n  }\n}\n\nexport default AddPost;\n","import React from \"react\";\nimport Post from \"./Post\";\nimport AddPost from \"./AddPost\";\n\nconst Posts = ({ posts }) => {\n  return (\n    <div>\n      <section className=\"posts-container\">\n        <AddPost />\n        {posts.map((post) => (\n          <Post {...post} key={post.id} />\n        ))}\n      </section>\n    </div>\n  );\n};\n\nexport default Posts;\n","export const collectionDocsIDS = (document) => {\n  return { id: document.id, ...document.data() };\n};\n","import React, { Component } from \"react\";\nimport Posts from \"./Posts\";\nimport { firestore } from \"../firebase\";\nimport { collectionDocsIDS } from \"../utilities\";\n\nclass Application extends Component {\n  state = {\n    posts: [],\n  };\n  // when the componentDidMount we will subscribe the changes to the post collection\n  // actually it\"s not really problem for this example but it can be problem some lower level components\n  // when the components mounts you start listening for the changes and then user navigates away you never stop listening that is still firing\n  // js objects cant get garbage collected (memory leak)\n  //  when the components mounts you start listening for the changes when the component unmounts we will remove the listener\n  // We will unsubscribe for the changes, so added unsubscribe\n  unsubscribe = null;\n\n  componentDidMount = async () => {\n    this.unsubscribe = firestore.collection(\"posts\").onSnapshot((snapshot) => {\n      const posts = snapshot.docs.map(collectionDocsIDS);\n      this.setState({ posts });\n    });\n  };\n\n  componentWillUnmount = async () => {\n    this.unsubscribe();\n  };\n\n  render() {\n    const { posts } = this.state;\n    return (\n      <main className=\"application\">\n        <h1 className=\"app-title\">Say Helo!</h1>\n        <Posts posts={posts}></Posts>\n      </main>\n    );\n  }\n}\n\nexport default Application;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport Application from \"./components/Application\";\n\nReactDOM.render(\n  // <React.StrictMode>\n  <Application />,\n  // </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}